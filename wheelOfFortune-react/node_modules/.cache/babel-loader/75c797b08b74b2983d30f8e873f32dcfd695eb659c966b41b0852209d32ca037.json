{"ast":null,"code":"import _slicedToArray from\"/Users/daikexin/Desktop/CS514/WheelOfFortuneGame/wheelOfFortune-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{initializeApp}from'firebase/app';import{getAuth,signInWithRedirect,GoogleAuthProvider}from'firebase/auth';import React,{useState,useEffect}from'react';import{useGlobalContext}from'./GlobalContext';// LoginSuccessful is a function sent in by parent component\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LoginForm(_ref){var LoginEvent=_ref.LoginEvent;var _useGlobalContext=useGlobalContext(),googleID=_useGlobalContext.googleID,updateGoogleID=_useGlobalContext.updateGoogleID;var firebaseConfig={apiKey:\"AIzaSyCqxHDg3mlIlUNokf8pd9VjAwAj9HgmOq4\",authDomain:\"wheeloffortune-login.firebaseapp.com\",projectId:\"wheeloffortune-login\",storageBucket:\"wheeloffortune-login.appspot.com\",messagingSenderId:\"5607927999\",appId:\"1:5607927999:web:0a67b3ffc5b342530f160a\",measurementId:\"G-KS9Z5VWJDD\"};initializeApp(firebaseConfig);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),loggedUser=_useState2[0],setLoggedUser=_useState2[1];// function to sign in with Google's page\nvar signInWithGoogle=function signInWithGoogle(){var provider=new GoogleAuthProvider();var auth=getAuth();signInWithRedirect(auth,provider).then(function(result){// User signed in\nsetLoggedUser(result.user);}).catch(function(error){// Handle Errors here.\nconsole.error(error);});};// function to sign out\nfunction logoutGoogle(){var auth=getAuth();auth.signOut();setLoggedUser(null);}// we put the onAuthStateChanged in useEffect so this is only called when \n// this component mounts  \nuseEffect(function(){var auth=getAuth();auth.onAuthStateChanged(function(user){if(user){// User is signed in.\nsetLoggedUser(user);updateGoogleID(user.email);localStorage.setItem(\"googleId\",user.email);}else{// No user is signed in.\n}LoginEvent(user);});},[]);// note the ? to show either login or logout button\nreturn/*#__PURE__*/_jsx(\"div\",{children:loggedUser?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:logoutGoogle,style:{padding:'10px 20px',fontSize:'16px',backgroundColor:'#3498db',color:'#fff',border:'none',borderRadius:'5px',cursor:'pointer',marginTop:'30px'},children:\"Sign out\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",loggedUser.email,\"!\"]})]})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,style:{padding:'10px 20px',fontSize:'16px',backgroundColor:'#2ecc71',color:'#fff',border:'none',borderRadius:'5px',cursor:'pointer',marginTop:'10px'},children:\"Sign in with Google\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please sign in to continue.\"}),\" \"]})});}export default LoginForm;","map":{"version":3,"names":["initializeApp","getAuth","signInWithRedirect","GoogleAuthProvider","React","useState","useEffect","useGlobalContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","_ref","LoginEvent","_useGlobalContext","googleID","updateGoogleID","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","_useState","_useState2","_slicedToArray","loggedUser","setLoggedUser","signInWithGoogle","provider","auth","then","result","user","catch","error","console","logoutGoogle","signOut","onAuthStateChanged","email","localStorage","setItem","children","onClick","style","padding","fontSize","backgroundColor","color","border","borderRadius","cursor","marginTop"],"sources":["/Users/daikexin/Desktop/CS514/WheelOfFortuneGame/wheelOfFortune-react/src/components/LoginForm.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithRedirect, GoogleAuthProvider } from 'firebase/auth';\nimport React, { useState, useEffect } from 'react';\nimport { useGlobalContext } from './GlobalContext';\n\n// LoginSuccessful is a function sent in by parent component\nfunction LoginForm({ LoginEvent }) {\n    const { googleID, updateGoogleID } = useGlobalContext();\n    const firebaseConfig = {\n        apiKey: \"AIzaSyCqxHDg3mlIlUNokf8pd9VjAwAj9HgmOq4\",\n        authDomain: \"wheeloffortune-login.firebaseapp.com\",\n        projectId: \"wheeloffortune-login\",\n        storageBucket: \"wheeloffortune-login.appspot.com\",\n        messagingSenderId: \"5607927999\",\n        appId: \"1:5607927999:web:0a67b3ffc5b342530f160a\",\n        measurementId: \"G-KS9Z5VWJDD\"\n    };\n\n    initializeApp(firebaseConfig);\n\n    const [loggedUser, setLoggedUser] = useState('');\n\n    // function to sign in with Google's page\n    const signInWithGoogle = () => {\n\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithRedirect(auth, provider)\n            .then((result) => {\n                // User signed in\n                setLoggedUser(result.user)\n\n            }).catch((error) => {\n                // Handle Errors here.\n                console.error(error);\n            });\n    };\n\n    // function to sign out\n    function logoutGoogle() {\n        const auth = getAuth();\n        auth.signOut();\n        setLoggedUser(null)\n    }\n\n    // we put the onAuthStateChanged in useEffect so this is only called when \n    // this component mounts  \n    useEffect(() => {\n        const auth = getAuth();\n        auth.onAuthStateChanged(user => {\n            if (user) {\n                // User is signed in.\n                setLoggedUser(user);\n                updateGoogleID(user.email);\n                localStorage.setItem(\"googleId\",user.email)\n\n            } else {\n                // No user is signed in.\n            }\n            LoginEvent(user);\n        });\n        \n    }, []);\n    // note the ? to show either login or logout button\n    return (\n        <div >\n            {loggedUser ?\n                <>\n                    <div>\n                        <button onClick={logoutGoogle} style={{\n                            padding: '10px 20px',\n                            fontSize: '16px',\n                            backgroundColor: '#3498db',\n                            color: '#fff',\n                            border: 'none',\n                            borderRadius: '5px',\n                            cursor: 'pointer',\n                            marginTop: '30px'\n                        }}>Sign out</button>\n                        <p>Welcome, {loggedUser.email}!</p>\n                    </div>\n                </>\n\n                : <div >\n                    <button onClick={signInWithGoogle}\n                        style={{\n                            padding: '10px 20px',\n                            fontSize: '16px',\n                            backgroundColor: '#2ecc71',\n                            color: '#fff',\n                            border: 'none',\n                            borderRadius: '5px',\n                            cursor: 'pointer',\n                            marginTop: '10px'\n                        }}>Sign in with Google</button>\n                    <p>Please sign in to continue.</p> </div>\n            }\n\n        </div>\n    );\n\n}\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}