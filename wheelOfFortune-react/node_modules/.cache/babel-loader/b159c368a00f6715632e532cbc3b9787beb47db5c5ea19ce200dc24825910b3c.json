{"ast":null,"code":"var _jsxFileName = \"/Users/daikexin/Desktop/CS514/wheelOfFortune-react/src/components/LoginForm.js\",\n  _s = $RefreshSig$();\nimport { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithRedirect, GoogleAuthProvider } from 'firebase/auth';\nimport React, { useState, useEffect } from 'react';\n\n// LoginSuccessful is a function sent in by parent component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction LoginForm({\n  LoginEvent\n}) {\n  _s();\n  const firebaseConfig = {\n    apiKey: \"AIzaSyCqxHDg3mlIlUNokf8pd9VjAwAj9HgmOq4\",\n    authDomain: \"wheeloffortune-login.firebaseapp.com\",\n    projectId: \"wheeloffortune-login\",\n    storageBucket: \"wheeloffortune-login.appspot.com\",\n    messagingSenderId: \"5607927999\",\n    appId: \"1:5607927999:web:0a67b3ffc5b342530f160a\",\n    measurementId: \"G-KS9Z5VWJDD\"\n  };\n  initializeApp(firebaseConfig);\n  const [loggedUser, setLoggedUser] = useState('');\n\n  // function to sign in with Google's page\n  const signInWithGoogle = () => {\n    const provider = new GoogleAuthProvider();\n    const auth = getAuth();\n    signInWithRedirect(auth, provider).then(result => {\n      // User signed in\n      console.log(result.user);\n      setLoggedUser(result.user);\n    }).catch(error => {\n      // Handle Errors here.\n      console.error(error);\n    });\n  };\n\n  // function to sign out\n  function logoutGoogle() {\n    const auth = getAuth();\n    auth.signOut();\n    setLoggedUser(null);\n  }\n\n  // we put the onAuthStateChanged in useEffect so this is only called when \n  // this component mounts  \n  useEffect(() => {\n    const auth = getAuth();\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        // User is signed in.\n        console.log(\"User is signed in:\", user);\n        setLoggedUser(user);\n        localStorage.setItem(\"googleId\", user.email);\n      } else {\n        // No user is signed in.\n        console.log(\"No user is signed in.\");\n      }\n      LoginEvent(user);\n    });\n    // loggedUser?localStorage.setItem(\"googleId\",user.email):\"\";\n    console.log(\"loggedUser\", loggedUser);\n  }, []);\n  // note the ? to show either login or logout button\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loggedUser ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: logoutGoogle,\n          style: {\n            padding: '10px 20px',\n            fontSize: '16px',\n            backgroundColor: '#3498db',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            marginTop: '30px'\n          },\n          children: \"Sign out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Welcome, \", loggedUser.email, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signInWithGoogle,\n        style: {\n          padding: '10px 20px',\n          fontSize: '16px',\n          backgroundColor: '#2ecc71',\n          color: '#fff',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer',\n          marginTop: '10px'\n        },\n        children: \"Sign in with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please sign in to continue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginForm, \"2o6JLLmlnAKXzbP/P0OnaBoUKaw=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["initializeApp","getAuth","signInWithRedirect","GoogleAuthProvider","React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginForm","LoginEvent","_s","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","loggedUser","setLoggedUser","signInWithGoogle","provider","auth","then","result","console","log","user","catch","error","logoutGoogle","signOut","onAuthStateChanged","localStorage","setItem","email","children","onClick","style","padding","fontSize","backgroundColor","color","border","borderRadius","cursor","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/daikexin/Desktop/CS514/wheelOfFortune-react/src/components/LoginForm.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithRedirect, GoogleAuthProvider } from 'firebase/auth';\nimport React, { useState, useEffect } from 'react';\n\n// LoginSuccessful is a function sent in by parent component\nfunction LoginForm({ LoginEvent }) {\n    const firebaseConfig = {\n        apiKey: \"AIzaSyCqxHDg3mlIlUNokf8pd9VjAwAj9HgmOq4\",\n        authDomain: \"wheeloffortune-login.firebaseapp.com\",\n        projectId: \"wheeloffortune-login\",\n        storageBucket: \"wheeloffortune-login.appspot.com\",\n        messagingSenderId: \"5607927999\",\n        appId: \"1:5607927999:web:0a67b3ffc5b342530f160a\",\n        measurementId: \"G-KS9Z5VWJDD\"\n    };\n\n    initializeApp(firebaseConfig);\n\n    const [loggedUser, setLoggedUser] = useState('');\n\n    // function to sign in with Google's page\n    const signInWithGoogle = () => {\n\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithRedirect(auth, provider)\n            .then((result) => {\n                // User signed in\n                console.log(result.user);\n                setLoggedUser(result.user)\n\n            }).catch((error) => {\n                // Handle Errors here.\n                console.error(error);\n            });\n    };\n\n    // function to sign out\n    function logoutGoogle() {\n        const auth = getAuth();\n        auth.signOut();\n        setLoggedUser(null)\n    }\n\n    // we put the onAuthStateChanged in useEffect so this is only called when \n    // this component mounts  \n    useEffect(() => {\n        const auth = getAuth();\n        auth.onAuthStateChanged(user => {\n            if (user) {\n                // User is signed in.\n                console.log(\"User is signed in:\", user);\n\n\n                setLoggedUser(user);\n                localStorage.setItem(\"googleId\",user.email)\n\n            } else {\n                // No user is signed in.\n                console.log(\"No user is signed in.\");\n            }\n            LoginEvent(user);\n        });\n        // loggedUser?localStorage.setItem(\"googleId\",user.email):\"\";\n        console.log(\"loggedUser\",loggedUser)\n    }, []);\n    // note the ? to show either login or logout button\n    return (\n        <div >\n            {loggedUser ?\n                <>\n                    <div>\n                        <button onClick={logoutGoogle} style={{\n                            padding: '10px 20px',\n                            fontSize: '16px',\n                            backgroundColor: '#3498db',\n                            color: '#fff',\n                            border: 'none',\n                            borderRadius: '5px',\n                            cursor: 'pointer',\n                            marginTop: '30px'\n                        }}>Sign out</button>\n                        <p>Welcome, {loggedUser.email}!</p>\n                    </div>\n                </>\n\n                : <div >\n                    <button onClick={signInWithGoogle}\n                        style={{\n                            padding: '10px 20px',\n                            fontSize: '16px',\n                            backgroundColor: '#2ecc71',\n                            color: '#fff',\n                            border: 'none',\n                            borderRadius: '5px',\n                            cursor: 'pointer',\n                            marginTop: '10px'\n                        }}>Sign in with Google</button>\n                    <p>Please sign in to continue.</p> </div>\n            }\n\n        </div>\n    );\n\n}\nexport default LoginForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}